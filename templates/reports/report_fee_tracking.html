{% extends "reports/base_report.html" %}

{% block filters %}
  <div class="mb-3">
    <p class="text-muted small mb-1">
      View how many points each sponsor credited and debited over a period,
      plus the approximate fee value in USD based on their fee ratio.
    </p>
  </div>

  <div class="row g-3 align-items-end">
    <div class="col-md-3 col-sm-6">
      <label class="form-label fw-semibold small text-uppercase text-muted">Start date</label>
      <input type="date" name="start" class="form-control" value="{{ start }}">
    </div>
    <div class="col-md-3 col-sm-6">
      <label class="form-label fw-semibold small text-uppercase text-muted">End date</label>
      <input type="date" name="end" class="form-control" value="{{ end }}">
    </div>
    <div class="col-md-3 col-sm-6">
      <label class="form-label fw-semibold small text-uppercase text-muted">Sponsor</label>
      <select name="sponsor" class="form-select">
        <option value="">All sponsors</option>
        {% for name in sponsor_names %}
          <option value="{{ name }}" {% if sponsor == name %}selected{% endif %}>{{ name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3 col-sm-6 d-flex flex-wrap gap-2 justify-content-md-end mt-2 mt-md-0">
      <button class="btn btn-primary" type="submit">Apply</button>
      <a class="btn btn-outline-secondary" href="?">Reset</a>
      <a class="btn btn-outline-secondary" href="?start={{ start }}&end={{ end }}&sponsor={{ sponsor }}&format=csv">CSV</a>
    </div>
  </div>
{% endblock %}


